// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model status {
  id           Int           @id @default(autoincrement())
  description  String        @db.VarChar(255)
  code         Int           @unique
  transactions transaction[]
  banks        bank[]
}

model country {
  id             Int       @id @default(autoincrement())
  name           String    @unique
  continent_name String
  addresses      address[]
}

model address {
  id            Int     @id @default(autoincrement())
  neighborhood  String
  address_line1 String  @unique
  address_line2 String  @unique
  city          String
  postal_code   String
  country       country @relation(fields: [countryId], references: [id])
  countryId     Int
  telephone     String  @unique
  mobile        String  @unique
  banks         bank[]
}

model bank {
  id           Int           @id @default(autoincrement())
  name         String        @unique
  status       status        @relation(fields: [statusId], references: [id])
  statusId     Int
  address      address       @relation(fields: [addressId], references: [id])
  addressId    Int           @unique
  transactions transaction[]
}

model transaction {
  id                Int      @id @default(autoincrement())
  userId            Int
  createdAt         DateTime @default(now())
  status            status   @relation(fields: [statusId], references: [id])
  statusId          Int
  amount_added      Decimal
  amount_subtracted Decimal
  bank              bank     @relation(fields: [bankId], references: [id])
  bankId            Int
}
